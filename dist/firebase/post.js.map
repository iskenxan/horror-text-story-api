{"version":3,"sources":["../../server/firebase/post.js"],"names":["Post","addComment","authorUsername","postId","comment","timestamp","Date","getTime","db","collection","doc","update","comments","adminFirestore","firestore","FieldValue","arrayUnion","then","module","exports"],"mappings":";;AAAA;;;;AACA;;;;;;IAEMA,I;;;;AAAAA,I,CACGC,U,GAAa,UAACC,cAAD,EAAiBC,MAAjB,EAAyBC,OAAzB,EAAqC;AACvDA,UAAQC,SAAR,GAAoB,IAAIC,IAAJ,GAAWC,OAAX,EAApB;AACA,SAAOC,UAAGC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BR,cAA3B,EACJO,UADI,CACO,WADP,EACoBC,GADpB,CACwBP,MADxB,EAEJQ,MAFI,CAEG;AACNC,cAAUC,wBAAeC,SAAf,CAAyBC,UAAzB,CAAoCC,UAApC,CAA+CZ,OAA/C;AADJ,GAFH,EAKJa,IALI,CAKC,YAAM;AACV,WAAOb,OAAP;AACD,GAPI,CAAP;AAQD,C;;AAGHc,OAAOC,OAAP,GAAiBnB,IAAjB","file":"post.js","sourcesContent":["import adminFirestore from 'firebase-admin';\nimport { db } from './index';\n\nclass Post {\n  static addComment = (authorUsername, postId, comment) => {\n    comment.timestamp = new Date().getTime();\n    return db.collection('users').doc(authorUsername)\n      .collection('published').doc(postId)\n      .update({\n        comments: adminFirestore.firestore.FieldValue.arrayUnion(comment),\n      })\n      .then(() => {\n        return comment;\n      });\n  };\n}\n\nmodule.exports = Post;\n"]}