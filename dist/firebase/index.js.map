{"version":3,"sources":["../../server/firebase/index.js"],"names":["admin","process","env","PROJECT_ID","CLIENT_EMAIL","PRIVATE_KEY","initializeFirebaseConnection","initializeApp","credential","cert","projectId","clientEmail","privateKey","databaseURL","storageBucket","serviceAccount","getDbInstance","db","firestore","settings","timestampsInSnapshots","getBucketInstance","storage","bucket","module","exports"],"mappings":";;AAAA;;IAAYA,K;;AACZ;;;;;;;;mBAEkDC,QAAQC,G;IAAlDC,U,gBAAAA,U;IAAYC,Y,gBAAAA,Y;IAAcC,W,gBAAAA,W;;;AAGlC,IAAMC,+BAA+B,SAA/BA,4BAA+B,GAAM;AACzC,MAAIH,cAAcC,YAAd,IAA8BC,WAAlC,EAA+C;AAC7CL,UAAMO,aAAN,CAAoB;AAClBC,kBAAYR,MAAMQ,UAAN,CAAiBC,IAAjB,CAAsB;AAChCC,mBAAWP,UADqB;AAEhCQ,qBAAaP,YAFmB;AAGhCQ,oBAAYP;AAHoB,OAAtB,CADM;AAMlBQ,mBAAa,0CANK;AAOlBC,qBAAe;AAPG,KAApB;AASD,GAVD,MAUO;AACLd,UAAMO,aAAN,CAAoB;AAClBC,kBAAYR,MAAMQ,UAAN,CAAiBC,IAAjB,CAAsBM,0BAAtB,CADM;AAElBF,mBAAa,0CAFK;AAGlBC,qBAAe;AAHG,KAApB;AAKD;AACF,CAlBD;;AAoBAR;;AAGA,IAAMU,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1B,MAAMC,KAAKjB,MAAMkB,SAAN,EAAX;AACAD,KAAGE,QAAH,CAAY,EAAEC,uBAAuB,IAAzB,EAAZ;;AAEA,SAAOH,EAAP;AACD,CALD;;AAQA,IAAMI,oBAAoB,SAApBA,iBAAoB;AAAA,SAAMrB,MAAMsB,OAAN,GAAgBC,MAAhB,EAAN;AAAA,CAA1B;;AAEAC,OAAOC,OAAP,GAAiB,EAAER,IAAID,eAAN,EAAuBO,QAAQF,mBAA/B,EAAjB","file":"index.js","sourcesContent":["import * as admin from 'firebase-admin';\nimport serviceAccount from '../firebase-admin-sdk';\n\nconst { PROJECT_ID, CLIENT_EMAIL, PRIVATE_KEY } = process.env;\n\n\nconst initializeFirebaseConnection = () => {\n  if (PROJECT_ID && CLIENT_EMAIL && PRIVATE_KEY) {\n    admin.initializeApp({\n      credential: admin.credential.cert({\n        projectId: PROJECT_ID,\n        clientEmail: CLIENT_EMAIL,\n        privateKey: PRIVATE_KEY,\n      }),\n      databaseURL: 'https://travelguide-bf6df.firebaseio.com',\n      storageBucket: 'travelguide-bf6df.appspot.com',\n    });\n  } else {\n    admin.initializeApp({\n      credential: admin.credential.cert(serviceAccount),\n      databaseURL: 'https://travelguide-bf6df.firebaseio.com',\n      storageBucket: 'travelguide-bf6df.appspot.com',\n    });\n  }\n};\n\ninitializeFirebaseConnection();\n\n\nconst getDbInstance = () => {\n  const db = admin.firestore();\n  db.settings({ timestampsInSnapshots: true });\n\n  return db;\n};\n\n\nconst getBucketInstance = () => admin.storage().bucket();\n\nmodule.exports = { db: getDbInstance(), bucket: getBucketInstance() };\n"]}